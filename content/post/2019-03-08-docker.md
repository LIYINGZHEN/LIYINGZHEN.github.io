---
title:       "Docker"
description: " "
date:        2019-03-08T13:00:00+00:00
author:      "Max"
published:   true
tags:        ["docker"]
categories:  ["notes"]
---

# Command

```bash
# Build a docker image.
docker build
  -t <image-name> # name docker image
  .

#
docker run
  -it                     # shell
  --name <container-name> # name the container
  -e NAME=Sam             # environment variable
  -p 5432:5432            # ports
  -d                      # run in the background
  --rm                    # 
  <image>:<tag>

# Getting additional information about a container.
docker inspect <container-name>

# Listing locally stored images.
docker images

# Running a shell inside an existing container.
docker exec
  -i               # Makes sure STDIN is kept open.
  -t               # Asllocates a pseudo terminal (TTY).
  <container-name>
  sh | bash

# Remove old images.
docker rmi <image-name>
docker rmi -f 'docker images -q -f dangling=true'

# Stop a container.
docker stop <container-name>
# Stop all containers.
docker stop $(docker ps -a -q)

# Remove a container.
docker remove <container-name>
# Remove all containers.
docker rm $(docker ps -a -q)

# Remove unused data.
docker system prune -a -f

# Listing running containers.
docker ps
    -a #

#
docker restart <continaer-name>

#
docker logs <continaer-name>

#
docker commit id

#
docker stop <continaer-name>

# Tagging an image under an additional tag.
docker tag <image-name> <docker-hub-id>/<image-name>:<version>

#
docker pull <docker-hub-id>/<image-name>:<version>

# Pushing the image to docker hub.
docker push <docker-hub-id>/<image-name>:<version>

#
docker-machine ls
```

# YAML

```yaml
# The base image you’re building on top of.
FROM

RUN

WORKDIR

# Use COPY unless you sure you need ADD
COPY

ADD

CMD

ENTRYPOINT
```
