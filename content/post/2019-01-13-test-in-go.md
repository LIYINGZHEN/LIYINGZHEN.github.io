---
title:       "Test in Go"
subtitle:    ""
description: ""
date:        2019-01-13T08:50:00+01:00
author:      "Max"
published:   true
image:       ""
tags:        ["golang", "testing"]
---

```go
func TestSearchHandlerReturnsBadRequestWhenBlankSearchCriteriaIsSent(t *testing.T) { 
  handler := SearchHandler{} 
  data, _ := json.Marshal(searchRequest{}) 

  request := httptest.NewRequest("POST", "/search", bytes.NewReader(data)) 
  response := httptest.NewRecorder() 
  handler.ServeHTTP(response, request) 
  
  if response.Code != http.StatusBadRequest { 
    t.Errorf("Expected BadRequest got %v", response.Code) 
  }
}
```