---
title:       "Redis"
description: " "
date:        2019-03-13T06:05:00+00:00
author:      "Max"
published:   true
tags:        ["redis"]
categories:  ["notes"]
---

# Sentinel vs. Cluster

- Sentinel's goal is to provide reliable automatic failover in a master/slave topology without sharding data.
- Cluster's goal is to distribute data across different Redis instances and perform automatic failover if any problem happens to any master instance.

# Sentinel configuration

```bash
sentinel monitor mymaster 127.0.0.1 6379 2
sentinel down-after-milliseconds mymaster 30000
sentinel failover-timeout mymaster 180000
sentinel parallel-syncs mymaster 1
```

## Commands

```bash
redis-cli                             # Local
redis-cli -h host -p port -a password # Run Commands on the Remote Server

redis-cli INFO memory
```

## Data Types

- Set
- Strings
- List
- Sorted Set
- Hashes

### Set

```bash
sadd tutoriallist redis
smembers tutoriallist # Gets all the members in a set
SCARD tutoriallist    # Gets the number of members in a set
```

### Sorted Set

```bash
zadd tutoriallist 0 redis
ZRANGEBYSCORE tutoriallist 0 1000
```

### Strings

```bash
SET name "tutorialspoint"
GET name
```

### List

```bash
lpush tutoriallist redis
lrange tutoriallist 0 10
```

### Hashes

```bash
HMSET user:1 username tutorialspoint password
HGETALL user:1
```

## Keys

```bash
TYPE KEY_NAME
KEYS pattern # KEYS * is dangerous!
```

# Notes

1. Use benchmarks before committing to a solution.
