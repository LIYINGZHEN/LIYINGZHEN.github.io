---
title:       "Docker"
description: " "
date:        2019-03-08T13:00:00+00:00
author:      "Max"
published:   true
tags:        ["docker"]
categories:  ["notes"]
---

## Commands

```bash
# Checking that the docker binary works.
docker info

# Getting additional information about a container.
docker inspect
  -f '{{ .NetworkSettings.IPAddress }}'   # selectively query.
  <CONTAINER>

# Running a shell inside an existing container.
docker exec
  -i               # Makes sure STDIN is kept open.
  -t               # Asllocates a pseudo terminal (TTY).
  <CONTAINER>
  sh | bash

# Remove unused data.
docker system prune -a -f

# Starting a stopped container.
docker start <CONTAINER>

# Restarting a stopped container.
docker restart <CONTAINER>

#
docker logs
  -f               # tail
  -t               # timestamps
  <CONTAINER>

#
docker commit id

# Tagging an image under an additional tag.
docker tag <image-name> <docker-hub-id>/<image-name>:<version>

#
docker-machine ls

# Attach local standard input, output, and error streams to a running container.
docker attach <CONTAINER>

# Shows statistics for a container
docker stats <CONTAINER>

# Searching for images
docker search puppet

# Inspecting the container’s processes
docker top

# List port mappings or a specific mapping for the container.
docker port <CONTAINER>

# Display the running processes of a container
docker top <CONTAINER>
```

### Volumes

```bash
# Remove unused volumes using docker volume prune.
docker volume prune
```

# Docker Compose

## The docker-compose.yml file

```yaml
version: '3'
  services:
    web:
      image: jamtur01/composeapp
      command: python app.py
      ports:
      - "5000:5000"
      volumes:
      - .:/composeapp
    redis:
      image: redis
```

## Commands

```bash
# Lists all of the currently running services.
docker-compose ps
# Show log events.
docker-compose logs
# Stop running services.
docker-compose stop
# Force kill the services.
docker- compose kill
# Restart services.
docker-compose start
# Remove services.
docker-compose rm
```
